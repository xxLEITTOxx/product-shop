import{u as d,r as t,o as f,a as g,l,S as s,c as C,b as T,d as L,s as y}from"./assets/theme-toggle-KHwanrAT.js";import{i}from"./assets/vendor-4yCzdkXl.js";function c(e,o){t.cartTotalItems&&(t.cartTotalItems.textContent=e),t.cartTotalPrice&&(t.cartTotalPrice.textContent=`$${o.toFixed(2)}`)}async function n(){const e=l(s.CART)||[];if(C(),e.length===0){t.productList&&(t.productList.innerHTML='<li class="cart-empty-message">Your cart is empty.</li>'),c(0,0);return}try{const o=e.map(a=>T(a)),r=await Promise.all(o);L(r);const u=r.length,p=r.reduce((a,m)=>a+m.price,0);c(u,p)}catch{i.error({title:"Error",message:"Failed to load cart products."}),c(0,0)}}function P(){(l(s.CART)||[]).length>0?(i.success({title:"Success",message:"Products purchased successfully!",position:"topRight"}),y(s.CART,[]),n(),d()):i.info({title:"Info",message:"Your cart is empty.",position:"topRight"})}function E(e){e.detail.key===s.CART&&n()}function h(){d(),n(),t.productList&&t.productList.addEventListener("click",f),t.modalActions&&t.modalActions.addEventListener("click",g),t.cartBuyBtn&&t.cartBuyBtn.addEventListener("click",P),t.scrollUpBtn&&(window.addEventListener("scroll",handleScroll),t.scrollUpBtn.addEventListener("click",scrollToTop)),document.addEventListener("storageUpdated",E)}document.addEventListener("DOMContentLoaded",h);
//# sourceMappingURL=cart.js.map
