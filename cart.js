import{u as d,r as t,o as f,a as g,h as C,s as T,l,S as s,c as L,b as y,d as P,m as h}from"./assets/theme-toggle-C76pZI4f.js";import{i}from"./assets/vendor-4yCzdkXl.js";function c(e,o){t.cartTotalItems&&(t.cartTotalItems.textContent=e),t.cartTotalPrice&&(t.cartTotalPrice.textContent=`$${o.toFixed(2)}`)}async function n(){const e=l(s.CART)||[];if(L(),e.length===0){t.productList&&(t.productList.innerHTML='<li class="cart-empty-message">Your cart is empty.</li>'),c(0,0);return}try{const o=e.map(a=>y(a)),r=await Promise.all(o);P(r);const u=r.length,p=r.reduce((a,m)=>a+m.price,0);c(u,p)}catch{i.error({title:"Error",message:"Failed to load cart products."}),c(0,0)}}function E(){(l(s.CART)||[]).length>0?(i.success({title:"Success",message:"Products purchased successfully!",position:"topRight"}),h(s.CART,[]),n(),d()):i.info({title:"Info",message:"Your cart is empty.",position:"topRight"})}function B(e){e.detail.key===s.CART&&n()}function S(){d(),n(),t.productList&&t.productList.addEventListener("click",f),t.modalActions&&t.modalActions.addEventListener("click",g),t.cartBuyBtn&&t.cartBuyBtn.addEventListener("click",E),t.scrollUpBtn&&(window.addEventListener("scroll",C),t.scrollUpBtn.addEventListener("click",T)),document.addEventListener("storageUpdated",B)}document.addEventListener("DOMContentLoaded",S);
//# sourceMappingURL=cart.js.map
