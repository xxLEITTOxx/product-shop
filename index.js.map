{"version":3,"file":"index.js","sources":["../src/js/helpers.js","../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/modal.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export function activeFirstBtn() {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n}\n","export const BASE_URL = 'https://dummyjson.com/';\n\nexport const ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  PRODUCT_BY_ID: 'products/',\n  SEARCH: 'products/search',\n  PRODUCTS_BY_CATEGORY: 'products/category/',\n};\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function fetchCategories() {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n}\n\nexport async function requestProducts(currentPage) {\n  const skip = (currentPage - 1) * 12;\n  const myUrl = `${ENDPOINTS.PRODUCTS}?limit=12&skip=${skip}`;\n  const data = await axios(myUrl);\n\n  return data.data.products;\n}\n\nexport async function requestProductById(id) {\n  const { data } = await axios(`${ENDPOINTS.PRODUCT_BY_ID}${id}`);\n  return data;\n}\n","export const refs = {\n  categoryList: document.querySelector('.categories'),\n\n  // --- Модальне окно ---\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  modalActions: document.querySelector('.modal-product__actions'),\n  productList: document.querySelector('.products'),\n};\n","import { refs } from './refs';\n\nexport function renderCategories(data) {\n  const markup = data\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n}\n\nexport function renderModalProduct(product) {\n  const {\n    id,\n    thumbnail,\n    title,\n    price,\n    description,\n    shippingInformation = 'Not specified',\n    returnPolicy = 'Not specified',\n  } = product;\n\n  const productInfoMarkup = `\n    <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <h2 class=\"modal-product__title\">${title}</h2>\n        <div class=\"modal-product__details\">\n            <p class=\"modal-product__price\">Price: $${price}</p>\n            <p class=\"modal-product__description\">${description}</p>\n            <p class=\"modal-product__shipping-information\"><b>Shipping:</b> ${shippingInformation}</p>\n            <p class=\"modal-product__return-policy\"><b>Return Policy:</b> ${returnPolicy}</p>\n        </div>\n      </div>\n  `;\n  const actionsMarkup = `\n    <button class=\"modal-product__btn modal-product__btn--cart\" data-id=\"${id}\">Add to cart</button>\n    <button class=\"modal-product__btn modal-product__btn--wishlist\" data-id=\"${id}\">Add to wishlist</button>\n  `;\n  refs.modalProduct.innerHTML = productInfoMarkup;\n  refs.modalActions.innerHTML = actionsMarkup;\n}\n\nexport function productsMarkup(product) {\n  return `\n    <li class=\"products__item\" data-id=\"${product.id}\">\n      <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n      <p class=\"products__title\">${product.title}</p>\n      <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${product.brand}</p>\n      <p class=\"products__category\">Category: ${product.category}</p>\n      <p class=\"products__price\">Price: $${product.price}</p>\n    </li>\n  `;\n}\n\nexport function renderProducts(product) {\n  const markup = product.map(productsMarkup).join('');\n  refs.productList.innerHTML = markup;\n}\n","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\nimport { refs } from './refs.js';\n\nfunction onEscKeyPress(event) {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    closeModal();\n  }\n}\n\nexport function openModal() {\n  if (!refs.modal) return;\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', onEscKeyPress);\n  refs.modal.addEventListener('click', onBackdropClick);\n}\n\nexport function closeModal() {\n  if (!refs.modal) return;\n  refs.modal.classList.remove('modal--is-open');\n  document.body.style.overflow = 'auto';\n  document.removeEventListener('keydown', onEscKeyPress);\n  refs.modal.removeEventListener('click', onBackdropClick);\n}\n\n// Глобальний слухач для кнопки закриття\nif (refs.modalCloseBtn) {\n  refs.modalCloseBtn.addEventListener('click', closeModal);\n}\n","import { activeFirstBtn } from './helpers';\nimport {\n  fetchCategories,\n  requestProducts,\n  requestProductById,\n} from './products-api';\nimport {\n  renderCategories,\n  renderProducts,\n  renderModalProduct,\n} from './render-function';\nimport { openModal } from './modal.js';\n\nlet currentPage = 1;\n\nexport async function getCategories() {\n  try {\n    const data = await fetchCategories();\n    renderCategories(['All', ...data]);\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function onProductClick(event) {\n  const productCard = event.target.closest('.products__item');\n\n  if (!productCard) {\n    return;\n  }\n\n  const { id } = productCard.dataset;\n\n  try {\n    const data = await requestProductById(id);\n    renderModalProduct(data);\n    openModal();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getProducts() {\n  try {\n    const data = await requestProducts(currentPage);\n    renderProducts(data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { getCategories, getProducts, onProductClick } from './js/handlers';\nimport { refs } from './js/refs';\n\n//Логіка сторінки Home\ngetCategories();\ngetProducts();\n\nif (refs.productList) {\n  refs.productList.addEventListener('click', onProductClick);\n}\n"],"names":["activeFirstBtn","firstBtn","BASE_URL","ENDPOINTS","axios","fetchCategories","data","requestProducts","currentPage","skip","myUrl","requestProductById","id","refs","renderCategories","markup","el","renderModalProduct","product","thumbnail","title","price","description","shippingInformation","returnPolicy","productInfoMarkup","actionsMarkup","productsMarkup","renderProducts","onEscKeyPress","event","closeModal","onBackdropClick","openModal","getCategories","error","onProductClick","productCard","getProducts"],"mappings":"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"}